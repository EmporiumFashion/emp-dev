{% comment %}
  Minimal Vintage Product Page
{% endcomment %}

<section class="product-page">

  <div class="product-layout">

    <!-- IMAGE -->
    <div class="product-media">
      {% if product.featured_image %}
        <img
          src="{{ product.featured_image | image_url: width: 1200 }}"
          alt="{{ product.title }}"
          width="600"
          height="800"
          loading="eager"
        >
      {% endif %}
    </div>

    <!-- INFO -->
    <div class="product-info">

      <h1 class="product-title">
        {{ product.title }}
      </h1>

      <div class="product-price">
        {{ product.price | money }}
      </div>

      {% if product.description != blank %}
        <div class="product-description">
          {{ product.description }}
        </div>
      {% endif %}

      <form method="post" action="/cart/add" class="product-form">
        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">

        {% if product.variants.size > 1 %}
          <select name="id" class="variant-select">
            {% for variant in product.variants %}
              <option value="{{ variant.id }}"
                {% if variant == product.selected_or_first_available_variant %}selected{% endif %}>
                {{ variant.title }}
              </option>
            {% endfor %}
          </select>
        {% endif %}

        <button
          type="submit"
          class="add-to-cart"
          {% unless product.available %}disabled{% endunless %}
        >
          {% if product.available %}
            Add to Cart
          {% else %}
            Sold Out
          {% endif %}
        </button>
      </form>

    </div>

  </div>

</section>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap');

.product-page {
  min-height: 100vh;
  background: #000;
  color: #fff;
  font-family: 'Inter', Helvetica, Arial, sans-serif;
  width: 100vw;
  margin-left: calc(50% - 50vw);
  padding: 80px 60px;
}

.product-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 80px;
  max-width: 1400px;
  margin: 0 auto;
}

/* IMAGE */
.product-media {
  width: 100%;
  aspect-ratio: 3 / 4;
  overflow: hidden;
  background: #111;
}

.product-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: grayscale(1) contrast(1.05);
}

/* INFO */
.product-info {
  display: flex;
  flex-direction: column;
  gap: 28px;
  justify-content: center;
}

.product-title {
  font-size: clamp(2rem, 4vw, 3.5rem);
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.product-price {
  font-size: 1.1rem;
  letter-spacing: 0.15em;
  opacity: 0.85;
}

.product-description {
  max-width: 420px;
  font-size: 0.95rem;
  line-height: 1.6;
  opacity: 0.75;
}

/* FORM */
.product-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
  max-width: 320px;
}

.variant-select {
  background: transparent;
  color: #fff;
  border: 1px solid rgba(255,255,255,0.3);
  padding: 12px;
  font-family: inherit;
  letter-spacing: 0.08em;
}

.add-to-cart {
  background: #fff;
  color: #000;
  border: none;
  padding: 14px;
  font-size: 0.85rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  cursor: pointer;
  transition: opacity 0.3s ease;
}

.add-to-cart:hover {
  opacity: 0.85;
}

.add-to-cart:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* MOBILE */
@media (max-width: 900px) {
  .product-layout {
    grid-template-columns: 1fr;
    gap: 50px;
  }

  .product-page {
    padding: 60px 24px;
  }

  .product-description {
    max-width: 100%;
  }
}
</style>
