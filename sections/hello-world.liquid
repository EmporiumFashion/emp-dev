{% comment %}
  Click-to-Enter Intro Overlay
  Save as: sections/intro-overlay.liquid

Blackletter EMPORIUM headline (UnifrakturMaguntia)

Clean black-on-white aesthetic

Click anywhere to enter

Smooth fade + slight zoom exit

Subtle vignette for depth

Film-grain noise for luxury/editorial feel

Pulsing “Click to enter” micro-interaction


{% endcomment %}

<div id="intro-overlay" class="intro-overlay" onclick="enterSite()">
  <div class="intro-content">
    <h1 class="intro-title">emporium</h1>
    <p class="intro-sub">Click to enter</p>
    
  </div>
</div>

<script>
function enterSite() {
  const overlay = document.getElementById('intro-overlay');
  overlay.classList.add('exit');
  sessionStorage.setItem('introSeen', 'true');
}

if (sessionStorage.getItem('introSeen') === 'true') {
  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('intro-overlay').style.display = 'none';
  });
}
</script>

<script>
(function () {
  if (window.matchMedia('(hover: none)').matches) return;

  const cursor = document.querySelector('.cursor-effect');
  if (!cursor) return;

  let x = window.innerWidth / 2;
  let y = window.innerHeight / 2;
  let cx = x;
  let cy = y;

  document.addEventListener('mousemove', e => {
    x = e.clientX;
    y = e.clientY;
  });

  function animate() {
    cx += (x - cx) * 0.12;
    cy += (y - cy) * 0.12;

    cursor.style.transform =
      `translate(${cx}px, ${cy}px) translate(-50%, -50%) scale(1.05)`;

    requestAnimationFrame(animate);
  }

  animate();
})();
</script>

<style>
@import url('https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap');

/* ===== Overlay Base ===== */
.intro-overlay {
  position: fixed;
  inset: 0;
  background: #000;
  z-index: 9999;
  display: grid;
  place-items: center;
  transition: opacity 1s ease, visibility 1s ease, transform 1s ease;
  cursor: pointer;
}

/* Subtle vignette */
.intro-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at center, rgba(0,0,0,0) 55%, rgba(255,255,255,0.08) 100%);
}

/* Film grain / noise */
.intro-overlay::after {
  content: '';
  position: absolute;
  inset: -50%;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  animation: grainMove 8s steps(10) infinite;
}

@keyframes grainMove {
  0% { transform: translate(0,0); }
  25% { transform: translate(-5%, 5%); }
  50% { transform: translate(5%, -5%); }
  75% { transform: translate(-5%, -5%); }
  100% { transform: translate(0,0); }
}

/* ===== Content ===== */
.intro-content {
  text-align: center;
  color: #f5f5f2;
  animation: introFade 1.2s ease both;
}

.intro-title {
  font-family: 'UnifrakturMaguntia', serif;
  font-size: clamp(3rem, 7vw, 6rem);
  letter-spacing: 6px;
}

.intro-sub {
  margin-top: 20px;
  font-size: 0.8rem;
  letter-spacing: 3px;
  text-transform: uppercase;
  opacity: 0.6;
  animation: pulse 2.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.8; }
}

/* ===== Exit Transition ===== */
.intro-overlay.exit {
  opacity: 0;
  visibility: hidden;
  transform: scale(1.05);
}

@keyframes introFade {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }

}


/* CURSOR EFFECT */
.cursor-effect {
  position: fixed;
  top: 0;
  left: 0;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;

  background: rgba(255,255,255,0.95);
  mix-blend-mode: difference;

  backdrop-filter: contrast(1.4) saturate(1.2) blur(1px);
  -webkit-backdrop-filter: contrast(1.4) saturate(1.2) blur(1px);

  transform: translate(-50%, -50%);
}

/* MOBILE */
@media (hover: none), (max-width: 768px) {
  .cursor-effect {
    display: none;
  }

  .header-inner {
    padding: 0 16px;
  }
}
</style>

{% schema %}
{
  "name": "Click to Enter Intro",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Welcome"
    },
    {
      "type": "text",
      "id": "tagline",
      "label": "Tagline",
      "default": "Click to enter the experience"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Enter"
    }
  ]
}
{% endschema %}
